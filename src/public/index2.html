<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node JS</title>
    <!-- <link rel="stylesheet" href="css/style.css"> -->
    <link rel="stylesheet" href="css/bootstrap.min.css"> 

</head>
<body>
    <div class="container">
        <h1>Hello Express ðŸ‡®ðŸ‡³</h1>
        <p>Paragraph</p>
        <h2>HTTP Get</h2>
        <form action="/search" method="get">
            <div class="mb-3">
              <label for="searchquery" class="form-label">Search</label>
              <input type="search" name="query" required class="form-control" id="searchquery">
            </div>
        </form>
        <hr>
        <h2>HTTP Post</h2>
        <form action="/login" method="post">
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Email address</label>
              <input type="email" name="email" required class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
              <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
            </div>
            <div class="mb-3">
              <label for="exampleInputPassword1" class="form-label">Password</label>
              <input type="password" name="pass" required class="form-control" id="exampleInputPassword1">
            </div>
            <div class="mb-3 form-check">
              <input type="checkbox" name="remember" value="true" class="form-check-input" id="exampleCheck1">
              <label class="form-check-label" for="exampleCheck1">Remember Me</label>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
          <h2>Fetch Data</h2>
          <form action="/" name="data">
            <label>Data: <input type="search" name="query" class="form-control" required></label>  <button class="btn btn-primary">Search</button>
          </form>
          <h2>Multi Part</h2>
          <form action="/upload" method="post" enctype="multipart/form-data">
            <label>Upload Picture: <input required class="form-control" name="picture" multiple type="file" accept="image/*"></label> <button class="btn btn-primary">Upload</button>
          </form>
          <ol class="list-group my-3 list-group-numbered"></ol>

    </div>
<script src="js/bootstrap.bundle.min.js"></script>
<script>

  fetch("/api").then(i=>i.json()).then(i=>{
    console.log(i);
    i.forEach(j=>{
      document.querySelector("ol").innerHTML+=`<li class="list-group-item">${j}</li>`;
    })
  }).catch(e=>console.warn(e));



  document.data.addEventListener("submit",function(e){
    e.preventDefault();

    const q=this.query.value;

    fetch("/postapi",{method:"POST",body:JSON.stringify({"query":q})}).then(i=>i.json()).then(i=>{
      console.log(i);
    });
    

  });

</script>
</body>
</html>
